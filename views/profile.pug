extends layout

block content
    .container-fluid.pt-4.px-4
    .row
        .col-lg-3.ml-5.py-2
            p #{username} #{bio}
        .col-lg
            #posts
                if user                        
                    posts(name=username, v-for='post in posts' v-bind:post='post' v-bind:key="post.id" 
                    v-on:like-post='like' logged-user=loggedUser v-on:comment-post='comment')
                    // use the modal component, pass in the prop
                    modal(v-if='showModal', @close='showModal = false' v-for='post in posts' v-bind:post='post' v-bind:key="post.id")
                    //
                        you can use custom content here to overwrite
                        default content
                    h3(slot='header') custom header
                else 
                    posts(name=username, v-for='post in posts' v-bind:post='post' v-bind:key="post.id" 
                    v-on:like-post='like' logged-user=null v-on:comment-post='comment')
    script(type="text/javascript"). 
        let username = '#{username}';
        let loggedUser = !{JSON.stringify(loggedUser)}
    script(src='https://unpkg.com/vue/dist/vue.js')
    script(src='https://unpkg.com/vue-router/dist/vue-router.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js')
    script(src='/postService.js')  
